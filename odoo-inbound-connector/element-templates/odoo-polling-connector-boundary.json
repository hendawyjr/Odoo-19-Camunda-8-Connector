{
    "$schema": "https://unpkg.com/@camunda/zeebe-element-templates-json-schema/resources/schema.json",
    "name": "Odoo Polling (Boundary Event)",
    "id": "io.camunda.connector.Odoo.Inbound.Boundary.Polling",
    "description": "Wait for an Odoo record update or check attached to an activity",
    "documentationRef": "https://www.odoo.com/documentation/19.0/developer/reference/external_api.html",
    "version": 1,
    "category": {
        "id": "connectors",
        "name": "Connectors"
    },
    "appliesTo": [
        "bpmn:BoundaryEvent"
    ],
    "elementType": {
        "value": "bpmn:BoundaryEvent",
        "eventDefinition": "bpmn:MessageEventDefinition"
    },
    "groups": [
        {
            "id": "polling",
            "label": "Polling Configuration"
        },
        {
            "id": "filter",
            "label": "Filter & Activation"
        },
        {
            "id": "output",
            "label": "Output Mapping"
        }
    ],
    "properties": [
        {
            "value": "io.camunda:odoo-inbound-polling:1",
            "binding": {
                "name": "inbound.type",
                "type": "zeebe:property"
            },
            "type": "Hidden"
        },
        {
            "id": "url",
            "label": "Odoo URL",
            "description": "Base URL (e.g., https://my-odoo-instance.com)",
            "constraints": {
                "notEmpty": true
            },
            "group": "polling",
            "binding": {
                "name": "url",
                "type": "zeebe:property"
            },
            "type": "String"
        },
        {
            "id": "database",
            "label": "Database",
            "constraints": {
                "notEmpty": true
            },
            "group": "polling",
            "binding": {
                "name": "database",
                "type": "zeebe:property"
            },
            "type": "String"
        },
        {
            "id": "model",
            "label": "Model",
            "constraints": {
                "notEmpty": true
            },
            "group": "polling",
            "binding": {
                "name": "model",
                "type": "zeebe:property"
            },
            "type": "String"
        },
        {
            "id": "apiKey",
            "label": "API Key / Password",
            "constraints": {
                "notEmpty": true
            },
            "group": "polling",
            "binding": {
                "name": "apiKey",
                "type": "zeebe:property"
            },
            "type": "String"
        },
        {
            "id": "pollingInterval",
            "label": "Polling Interval (s)",
            "value": "30",
            "group": "polling",
            "binding": {
                "name": "pollingInterval",
                "type": "zeebe:property"
            },
            "type": "String"
        },
        {
            "id": "triggerCondition",
            "label": "Trigger Event",
            "value": "BOTH",
            "group": "filter",
            "binding": {
                "name": "triggerCondition",
                "type": "zeebe:property"
            },
            "type": "Dropdown",
            "choices": [
                {
                    "name": "New Records Only",
                    "value": "NEW"
                },
                {
                    "name": "Modified Only",
                    "value": "MODIFIED"
                },
                {
                    "name": "Both",
                    "value": "BOTH"
                }
            ]
        },
        {
            "id": "filterDomain",
            "label": "Filter Domain",
            "optional": true,
            "group": "filter",
            "binding": {
                "name": "filterDomain",
                "type": "zeebe:property"
            },
            "type": "Text"
        },
        {
            "id": "resultVariable",
            "label": "Result Variable",
            "group": "output",
            "binding": {
                "name": "resultVariable",
                "type": "zeebe:property"
            },
            "type": "String"
        },
        {
            "id": "correlationKey",
            "label": "Correlation Key",
            "description": "Key to match with the running process",
            "constraints": {
                "notEmpty": true
            },
            "group": "output",
            "binding": {
                "name": "correlationKey",
                "type": "bpmn:Message#zeebe:subscription#property"
            },
            "type": "String"
        },
        {
            "id": "messageName",
            "label": "Message Name",
            "value": "odoo-event",
            "group": "output",
            "binding": {
                "name": "name",
                "type": "bpmn:Message#property"
            },
            "type": "String"
        }
    ],
    "icon": {
        "contents": "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIiB3aWR0aD0iMTgiIGhlaWdodD0iMTgiPgogIDxkZWZzPgogICAgPGxpbmVhckdyYWRpZW50IGlkPSJvZG9vR3JhZGllbnQiIHgxPSIwJSIgeTE9IjAlIiB4Mj0iMTAwJSIgeTI9IjEwMCUiPgogICAgICA8c3RvcCBvZmZzZXQ9IjAlIiBzdHlsZT0ic3RvcC1jb2xvcjojNzE0QjY3O3N0b3Atb3BhY2l0eToxIiAvPgogICAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0eWxlPSJzdG9wLWNvbG9yOiM4NzVBN0I7c3RvcC1vcGFjaXR5OjEiIC8+CiAgICA8L2xpbmVhckdyYWRpZW50PgogIDwvZGVmcz4KICA8Y2lyY2xlIGN4PSI1MCIgY3k9IjUwIiByPSI0NSIgZmlsbD0idXJsKCNvZG9vR3JhZGllbnQpIi8+CiAgPHBhdGggZD0iTTMwIDUwIEMzMCAzOCAzOCAzMCA1MCAzMCBDNjIgMzAgNzAgMzggNzAgNTAgQzcwIDYyIDYyIDcwIDUwIDcwIEMzOCA3MCAzMCA2MiAzMCA1MCBaIE00MCA1MCBDNDAgNTYgNDQgNjAgNTAgNjAgQzU2IDYwIDYwIDU2IDYwIDUwIEM2MCA0NCA1NiA0MCA1MCA0MCBDNDQgNDAgNDAgNDQgNDAgNTAgWiIgZmlsbD0id2hpdGUiLz4KICA8Y2lyY2xlIGN4PSI1MCIgY3k9IjUwIiByPSI4IiBmaWxsPSJ3aGl0ZSIvPgogIDxwYXRoIGQ9Ik03NSAyNSBMODUgMzUgTTc1IDM1IEw4NSAyNSIgc3Ryb2tlPSJ3aGl0ZSIgc3Ryb2tlLXdpZHRoPSIzIiBzdHJva2UtbGluZWNhcD0icm91bmQiLz4KPC9zdmc+"
    }
}